# telegram-telethon

Comprehensive Telegram automation via Telethon API with Claude Code integration.

## Features

- **Message Operations**: Send, receive, search, edit, delete messages
- **Draft Management**: Create, update, list, and send drafts
- **Media Operations**: Download media, transcribe voice messages
- **Daemon Mode**: Background message monitoring with Claude Code integration
- **Session Persistence**: Per-chat Claude sessions that survive restarts
- **Obsidian Integration**: Append messages to daily notes or person notes

## Installation

```bash
# Clone the repository
git clone https://github.com/pinion05/telegram-telethon-skill.git
cd telegram-telethon

# Install dependencies
pip install -e .
```

## Quick Start

### Setup

```bash
# Interactive setup (recommended for first-time users)
python3 scripts/tg.py setup

# Non-interactive setup (for Claude Code/automation)
python3 scripts/tg.py setup --api-id YOUR_API_ID --api-hash YOUR_API_HASH --phone +1234567890
python3 scripts/tg.py setup --api-id YOUR_API_ID --api-hash YOUR_API_HASH --phone +1234567890 --code CODE
```

Get API credentials from: https://my.telegram.org/auth

### Basic Commands

```bash
# Check connection status
python3 scripts/tg.py status

# List chats
python3 scripts/tg.py list

# Get recent messages
python3 scripts/tg.py recent "Chat Name" --limit 20

# Send message
python3 scripts/tg.py send --chat "Chat Name" --text "Hello!"

# Save draft
python3 scripts/tg.py draft --chat "Chat Name" --text "Draft message"
```

## Documentation

See [SKILL.md](SKILL.md) for complete documentation.

## Configuration

Config files are stored in `~/.config/telegram-telethon/`:
- `config.yaml` - API credentials (auto-generated by setup)
- `daemon.yaml` - Daemon triggers and Claude config
- `sessions.json` - Claude session persistence

## Security

**NEVER** commit `config.yaml`, `daemon.yaml`, or `*.session` files. These contain sensitive credentials and are excluded by `.gitignore`.

## License

MIT License
